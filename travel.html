<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>æ—…éŠæœƒè©±ï¼ˆé¤å»³ãƒ»è³¼ç‰©ãƒ»å•è·¯ï¼‰</title>
<link rel="stylesheet" href="styles.css" />
</head>
<body>
<header>
  <div class="wrap">
    <h1>æ—…éŠæœƒè©±ï¼ˆé¤å»³ãƒ»è³¼ç‰©ãƒ»å•è·¯ï¼‰</h1>
    <div class="nav">
      <a href="index.html">ç™¼éŸ³ç·´ç¿’</a>
      <a class="active" href="travel.html">æ—…éŠæœƒè©±</a>
      <a href="translate.html">AI ç¿»è­¯</a>
      <a href="favorites.html">â˜… æ”¶è—</a>
    </div>
    <div class="controls">
      <label>æ’­æ”¾é€Ÿåº¦
        <select id="rate" class="select">
          <option value="0.5">è¶…æ…¢ Ã—0.5</option>
          <option value="0.75" selected>æ…¢ Ã—0.75</option>
          <option value="1.0">æ­£å¸¸ Ã—1.0</option>
        </select>
      </label>
      <label class="control"><input type="checkbox" id="repeatTwice" />é‡è¤‡å…©æ¬¡</label>
      <label class="control"><input type="checkbox" id="cartoonEn" />è‹±æ–‡å¡é€šæ¨¡å¼</label>
      <span class="small">ï¼ˆpitchâ†‘ã€æ›´æ´»æ½‘ï¼‰</span>
      <label>è‹±æ–‡è²éŸ³
        <select id="voiceEn" class="select"><option>è¼‰å…¥ä¸­â€¦</option></select>
      </label>
      <button class="control" id="testKo">æ¸¬è©¦éŸ“æ–‡ï¼ˆì•ˆë…•í•˜ì„¸ìš”ï¼‰</button>
      <button class="control" id="testEn">æ¸¬è©¦è‹±æ–‡ï¼ˆHello there!ï¼‰</button>
    </div>
  </div>
</header>

<main class="wrap">

  <section class="section">
    <div class="legend">ğŸ½ï¸ é¤å»³ / é»é¤</div>
    <div class="grid" style="grid-template-columns:repeat(auto-fill,minmax(360px,1fr))">
      <div class="phrase">
        <div class="row"><span class="krl">ì¶”ì²œ ë©”ë‰´ê°€ ë­ì˜ˆìš”?</span>
          <span>
            <button class="btn" data-say-ko="ì¶”ì²œ ë©”ë‰´ê°€ ë­ì˜ˆìš”?">éŸ“</button>
            <button class="btn" data-say-en="What do you recommend?">è‹±</button>
          </span>
        </div>
        <div class="eng">What do you recommend?</div>
        <div class="zh">æœ‰æ¨è–¦çš„é¤é»å—ï¼Ÿ</div>
      </div>

      <div class="phrase">
        <div class="row"><span class="krl">ëœ ë§¤ìš´ ê±¸ë¡œ í•´ ì£¼ì„¸ìš”.</span>
          <span>
            <button class="btn" data-say-ko="ëœ ë§¤ìš´ ê±¸ë¡œ í•´ ì£¼ì„¸ìš”.">éŸ“</button>
            <button class="btn" data-say-en="Please make it less spicy.">è‹±</button>
          </span>
        </div>
        <div class="eng">Please make it less spicy.</div>
        <div class="zh">å¯ä»¥åšä¸é‚£éº¼è¾£å—ï¼Ÿ</div>
      </div>

      <div class="phrase">
        <div class="row"><span class="krl">ê³„ì‚°ì„œ ë”°ë¡œ í•´ ì£¼ì„¸ìš”.</span>
          <span>
            <button class="btn" data-say-ko="ê³„ì‚°ì„œ ë”°ë¡œ í•´ ì£¼ì„¸ìš”.">éŸ“</button>
            <button class="btn" data-say-en="Could we split the bill?">è‹±</button>
          </span>
        </div>
        <div class="eng">Could we split the bill?</div>
        <div class="zh">è«‹åˆ†é–‹çµå¸³ã€‚</div>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="legend">ğŸ›ï¸ è³¼ç‰© / é¡è‰²ãƒ»å°ºå¯¸ãƒ»è©¦ç©¿</div>
    <div class="grid" style="grid-template-columns:repeat(auto-fill,minmax(360px,1fr))">

      <div class="phrase">
        <div class="row"><span class="krl">ì´ê±° ë‹¤ë¥¸ ìƒ‰ ìˆì–´ìš”?</span>
          <span>
            <button class="btn" data-say-ko="ì´ê±° ë‹¤ë¥¸ ìƒ‰ ìˆì–´ìš”?">éŸ“</button>
            <button class="btn" data-say-en="Do you have this in other colors?">è‹±</button>
          </span>
        </div>
        <div class="eng">Do you have this in other colors?</div>
        <div class="zh">é€™å€‹æœ‰åˆ¥çš„é¡è‰²å—ï¼Ÿ</div>
        <hr class="div"/>
        <div class="colors">
          <button class="color-chip" data-say-ko="ê²€ì€ìƒ‰" data-say-en="black"><span class="color-dot" style="background:#111"></span>ê²€ì€ìƒ‰ / black</button>
          <button class="color-chip" data-say-ko="í°ìƒ‰" data-say-en="white"><span class="color-dot" style="background:#fafafa"></span>í°ìƒ‰ / white</button>
          <button class="color-chip" data-say-ko="ë¹¨ê°„ìƒ‰" data-say-en="red"><span class="color-dot" style="background:#ef4444"></span>ë¹¨ê°„ìƒ‰ / red</button>
          <button class="color-chip" data-say-ko="íŒŒë€ìƒ‰" data-say-en="blue"><span class="color-dot" style="background:#3b82f6"></span>íŒŒë€ìƒ‰ / blue</button>
          <button class="color-chip" data-say-ko="ì´ˆë¡ìƒ‰" data-say-en="green"><span class="color-dot" style="background:#22c55e"></span>ì´ˆë¡ìƒ‰ / green</button>
          <button class="color-chip" data-say-ko="ë…¸ë€ìƒ‰" data-say-en="yellow"><span class="color-dot" style="background:#facc15"></span>ë…¸ë€ìƒ‰ / yellow</button>
          <button class="color-chip" data-say-ko="ë² ì´ì§€ìƒ‰" data-say-en="beige"><span class="color-dot" style="background:#e6dfcf"></span>ë² ì´ì§€ìƒ‰ / beige</button>
          <button class="color-chip" data-say-ko="íšŒìƒ‰" data-say-en="gray"><span class="color-dot" style="background:#9ca3af"></span>íšŒìƒ‰ / gray</button>
        </div>
      </div>

      <div class="phrase">
        <div class="row"><span class="krl">ì´ê±° S, M, L ì‚¬ì´ì¦ˆ ìˆì–´ìš”?</span>
          <span>
            <button class="btn" data-say-ko="ì´ê±° S, M, L ì‚¬ì´ì¦ˆ ìˆì–´ìš”?">éŸ“</button>
            <button class="btn" data-say-en="Do you have this in S, M, or L?">è‹±</button>
          </span>
        </div>
        <div class="eng">Do you have this in S, M, or L?</div>
        <div class="zh">é€™å€‹æœ‰æ²’æœ‰ Sã€Mã€L ä¹‹é¡çš„å°ºå¯¸ï¼Ÿ</div>
        <hr class="div"/>
        <div class="size-grid">
          <button class="size-chip" data-say-ko="ìŠ¤ëª° ìˆì–´ìš”." data-say-en="We have small.">S æœ‰</button>
          <button class="size-chip" data-say-ko="ë¯¸ë””ì—„ ìˆì–´ìš”." data-say-en="We have medium.">M æœ‰</button>
          <button class="size-chip" data-say-ko="ë¼ì§€ ìˆì–´ìš”." data-say-en="We have large.">L æœ‰</button>
          <button class="size-chip" data-say-ko="ì§€ê¸ˆì€ ìŠ¤ëª°ë§Œ ìˆì–´ìš”." data-say-en="We only have small right now.">åªå‰© S</button>
          <button class="size-chip" data-say-ko="ì£„ì†¡í•˜ì§€ë§Œ, ê·¸ ì‚¬ì´ì¦ˆëŠ” ì—†ì–´ìš”." data-say-en="Sorry, we don't have that size.">æ²’æœ‰é‚£å€‹å°ºå¯¸</button>
        </div>
      </div>

      <div class="phrase">
        <div class="row"><span class="krl">ì…ì–´ ë´ë„ ë¼ìš”?</span>
          <span>
            <button class="btn" data-say-ko="ì…ì–´ ë´ë„ ë¼ìš”?">éŸ“</button>
            <button class="btn" data-say-en="May I try it on?">è‹±</button>
          </span>
        </div>
        <div class="eng">May I try it on?</div>
        <div class="zh">å¯ä»¥è©¦ç©¿å—ï¼Ÿ</div>
        <hr class="div"/>
        <div class="size-grid">
          <button class="size-chip" data-say-ko="ë„¤, ì €ìª½ í”¼íŒ…ë£¸ì—ì„œ ê°€ëŠ¥í•´ìš”." data-say-en="Yes, the fitting room is over there.">åº—å“¡ï¼šå¯ä»¥</button>
          <button class="size-chip" data-say-ko="ì£„ì†¡í•´ìš”, ì˜¤ëŠ˜ì€ í”¼íŒ…ì´ ì–´ë ¤ì›Œìš”." data-say-en="Sorry, trying on is not available today.">åº—å“¡ï¼šä¸å¯ä»¥</button>
        </div>
      </div>

      <div class="phrase">
        <div class="row"><span class="krl">ì´ê±° ì–¼ë§ˆì˜ˆìš”? í• ì¸ë¼ìš”?</span>
          <span>
            <button class="btn" data-say-ko="ì´ê±° ì–¼ë§ˆì˜ˆìš”? í• ì¸ë¼ìš”?">éŸ“</button>
            <button class="btn" data-say-en="How much is this? Any discount?">è‹±</button>
          </span>
        </div>
        <div class="eng">How much is this? Any discount?</div>
        <div class="zh">é€™å€‹å¤šå°‘éŒ¢ï¼Ÿæœ‰æŠ˜æ‰£å—ï¼Ÿ</div>
      </div>

    </div>
  </section>

  <section class="section">
    <div class="legend">ğŸ§­ å•è·¯ï¼ˆæ‹¿è‘—åœ–ç‰‡å•é€™è£¡æ€éº¼èµ°ï¼‰</div>
    <div class="grid" style="grid-template-columns:repeat(auto-fill,minmax(360px,1fr))">
      <div class="phrase">
        <div class="row"><span class="krl">ì´ ì‚¬ì§„ì²˜ëŸ¼ ë³´ì´ëŠ” ê³³ì€ ì–´ë””ì˜ˆìš”?</span>
          <span>
            <button class="btn" data-say-ko="ì´ ì‚¬ì§„ì²˜ëŸ¼ ë³´ì´ëŠ” ê³³ì€ ì–´ë””ì˜ˆìš”?">éŸ“</button>
            <button class="btn" data-say-en="Where is this place in the photo?">è‹±</button>
          </span>
        </div>
        <div class="eng">Where is this place in the photo?</div>
        <div class="zh">é€™å¼µç…§ç‰‡è£¡çš„åœ°æ–¹åœ¨å“ªè£¡ï¼Ÿ</div>
      </div>
      <div class="phrase">
        <div class="row"><span class="krl">ì—¬ê¸°ë¡œ ê°€ë ¤ë©´ ì–´ë–»ê²Œ ê°€ìš”?</span>
          <span>
            <button class="btn" data-say-ko="ì—¬ê¸°ë¡œ ê°€ë ¤ë©´ ì–´ë–»ê²Œ ê°€ìš”?">éŸ“</button>
            <button class="btn" data-say-en="How do I get here?">è‹±</button>
          </span>
        </div>
        <div class="eng">How do I get here?</div>
        <div class="zh">è¦åˆ°é€™è£¡æ€éº¼èµ°ï¼Ÿ</div>
      </div>
      <div class="phrase">
        <div class="row"><span class="krl">ì˜¤ë¥¸ìª½ìœ¼ë¡œ ê°€ì„¸ìš”. / ì™¼ìª½ìœ¼ë¡œ ê°€ì„¸ìš”. / ì­‰ ê°€ì„¸ìš”.</span>
          <span>
            <button class="btn" data-say-ko="ì˜¤ë¥¸ìª½ìœ¼ë¡œ ê°€ì„¸ìš”.">å³</button>
            <button class="btn" data-say-ko="ì™¼ìª½ìœ¼ë¡œ ê°€ì„¸ìš”.">å·¦</button>
            <button class="btn" data-say-ko="ì­‰ ê°€ì„¸ìš”.">ç›´</button>
            <button class="btn" data-say-en="Go right. Go left. Go straight.">è‹±</button>
          </span>
        </div>
        <div class="eng">Go right. / Go left. / Go straight.</div>
        <div class="zh">å¾€å³èµ°ï¼å¾€å·¦èµ°ï¼ç›´èµ°ã€‚</div>
      </div>
    </div>
  </section>

</main>

<footer>Web Speech APIï¼ˆko-KR / en-*ï¼‰ã€‚</footer>

<script>
const EN_WHITELIST = [
  {name:"Daniel",   lang:"en-GB"},
  {name:"Moira",    lang:"en-IE"},
  {name:"Samantha", lang:"en-AU"},
  {name:"Tessa",    lang:"en-ZA"}
];
function pickWhitelistedEnglishVoices(){
  const all = speechSynthesis.getVoices();
  const ok = [];
  EN_WHITELIST.forEach(w=>{
    const v = all.find(x => x.name===w.name && (x.lang||"").toLowerCase().startsWith(w.lang.toLowerCase()));
    if(v) ok.push(v);
  });
  return ok;
}
function populateEnglishVoices(){
  const sel = document.getElementById('voiceEn');
  sel.innerHTML = "";
  const list = pickWhitelistedEnglishVoices();
  if(!list.length){ sel.innerHTML = "<option>æœªæ‰¾åˆ°ï¼šDaniel / Moira / Samantha / Tessa</option>"; return; }
  list.forEach((v,i)=>{
    const opt = document.createElement('option');
    opt.value = v.name;
    opt.textContent = v.name + " ("+v.lang+")";
    sel.appendChild(opt);
    if(i===0) sel.value = v.name;
  });
  const stored = localStorage.getItem('voiceEnName');
  if(stored && list.some(v=>v.name===stored)) sel.value = stored;
  sel.addEventListener('change',()=>localStorage.setItem('voiceEnName', sel.value));
}
function rate(){ return parseFloat(document.getElementById('rate').value||'0.75'); }
function repeatHook(u, text, lang, voice){
  if(document.getElementById('repeatTwice').checked){
    u.onend = ()=>{ const u2=new SpeechSynthesisUtterance(text); if(voice) u2.voice=voice; u2.lang=lang; u2.rate=u.rate; u2.pitch=u.pitch; speechSynthesis.speak(u2); };
  }
}
let voiceKo=null, voiceEn=null;
function speakKO(text){
  const u=new SpeechSynthesisUtterance(text);
  voiceKo = voiceKo || speechSynthesis.getVoices().find(v => /ko/i.test(v.lang||""));
  if(voiceKo) u.voice=voiceKo;
  u.lang='ko-KR'; u.rate=rate();
  repeatHook(u,text,'ko-KR',voiceKo);
  speechSynthesis.speak(u);
}
function speakEN(text){
  const sel=document.getElementById('voiceEn');
  const chosen = sel && sel.value;
  const voices = speechSynthesis.getVoices();
  voiceEn = voices.find(v => v.name===chosen) || pickWhitelistedEnglishVoices()[0] || null;
  const u=new SpeechSynthesisUtterance(text);
  if(voiceEn) u.voice=voiceEn;
  u.lang = (voiceEn && voiceEn.lang) ? voiceEn.lang : 'en-US';
  u.rate=rate();
  if(document.getElementById('cartoonEn').checked){ u.pitch=1.6; if(u.rate>0.8) u.rate=0.85; } else { u.pitch=1.0; }
  repeatHook(u,text,u.lang,voiceEn);
  speechSynthesis.speak(u);
}
document.addEventListener('click', e=>{
  const k=e.target.closest('[data-say-ko]'); if(k){ speakKO(k.getAttribute('data-say-ko')); return; }
  const n=e.target.closest('[data-say-en]'); if(n){ speakEN(n.getAttribute('data-say-en')); return; }
});
document.getElementById('testKo').addEventListener('click', ()=>speakKO('ì•ˆë…•í•˜ì„¸ìš”'));
document.getElementById('testEn').addEventListener('click', ()=>speakEN('Hello there! I am so happy to see you!'));
window.speechSynthesis.onvoiceschanged = ()=>populateEnglishVoices();
document.addEventListener('touchstart', function once(){ speechSynthesis.speak(new SpeechSynthesisUtterance('')); document.removeEventListener('touchstart', once); }, {passive:true});
populateEnglishVoices();
</script>
</body>
</html>
